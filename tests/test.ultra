include @Web
include 'controllers/postsController.ultra' : posts


function handler404(params)
    live 'Esta página não existe'
end

routes = {
    'posts/new': {
        'GET': posts['create']
    },
    'posts/:int.id': {
        'GET': posts['show'],
        'POST': posts['update']
    },
    'posts': {
        'GET': posts['list']
    },
    null : handler404
}

r = responseRoute(routes)
handler = r['handler']
params = r['params']
live handler(params)

live '<br>'
live 'rota: ' + ($request['route'])